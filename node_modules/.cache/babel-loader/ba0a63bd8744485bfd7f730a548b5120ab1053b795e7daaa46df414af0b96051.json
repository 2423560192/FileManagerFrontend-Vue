{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport axios from 'axios';\nVue.config.productionTip = false;\n\n// 配置全局Axios，直接指向后端API地址\naxios.defaults.baseURL = 'http://localhost:8080/api';\nVue.prototype.$axios = axios;\n\n// 路由守卫，检查是否已登录\nrouter.beforeEach((to, from, next) => {\n  console.log('路由跳转:', {\n    from: from.path,\n    to: to.path\n  });\n  const isLoggedIn = localStorage.getItem('userId');\n\n  // 修改这里，允许访问登录和注册页面\n  if (to.path !== '/login' && to.path !== '/register' && !isLoggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","axios","config","productionTip","defaults","baseURL","prototype","$axios","beforeEach","to","from","next","console","log","path","isLoggedIn","localStorage","getItem","render","h","$mount"],"sources":["E:/project/springos-vue/src/main.js"],"sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport axios from 'axios'\r\n\r\nVue.config.productionTip = false\r\n\r\n// 配置全局Axios，直接指向后端API地址\r\naxios.defaults.baseURL = 'http://localhost:8080/api'\r\nVue.prototype.$axios = axios\r\n\r\n// 路由守卫，检查是否已登录\r\nrouter.beforeEach((to, from, next) => {\r\n  console.log('路由跳转:', { from: from.path, to: to.path });\r\n  const isLoggedIn = localStorage.getItem('userId')\r\n  \r\n  // 修改这里，允许访问登录和注册页面\r\n  if (to.path !== '/login' && to.path !== '/register' && !isLoggedIn) {\r\n    next('/login')\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  render: h => h(App)\r\n}).$mount('#app') "],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,OAAO;AAEzBH,GAAG,CAACI,MAAM,CAACC,aAAa,GAAG,KAAK;;AAEhC;AACAF,KAAK,CAACG,QAAQ,CAACC,OAAO,GAAG,2BAA2B;AACpDP,GAAG,CAACQ,SAAS,CAACC,MAAM,GAAGN,KAAK;;AAE5B;AACAD,MAAM,CAACQ,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE;IAAEH,IAAI,EAAEA,IAAI,CAACI,IAAI;IAAEL,EAAE,EAAEA,EAAE,CAACK;EAAK,CAAC,CAAC;EACtD,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;;EAEjD;EACA,IAAIR,EAAE,CAACK,IAAI,KAAK,QAAQ,IAAIL,EAAE,CAACK,IAAI,KAAK,WAAW,IAAI,CAACC,UAAU,EAAE;IAClEJ,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,IAAIb,GAAG,CAAC;EACNE,MAAM;EACNkB,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACpB,GAAG;AACpB,CAAC,CAAC,CAACqB,MAAM,CAAC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}